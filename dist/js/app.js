const imgHamburger=document.querySelector(".hamburger"),navigation=document.querySelector(".navigation-list"),textInput=document.querySelector(".input-text"),InputSubmit=document.querySelector(".input-submit"),alertUrl=document.querySelector(".alert-url"),sectionShort=document.querySelector(".short-section-url");imgHamburger.addEventListener("click",(()=>{navigation.classList.toggle("navigation-list-active")}));let obj={};function validURL(t){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(t)}async function getApi(t){const e=`https://api.shrtco.de/v2/shorten?url=${t}`,n=await fetch(e),o=await n.json(),{result:i}=o,a=i.short_link;i.original_link;return a}async function createUrl(){const t=await getApi(obj.text);sectionShort.style.display="block";const e=document.createElement("DIV");e.classList.add("line"),sectionShort.appendChild(e);const n=document.createElement("P");n.classList.add("link"),n.textContent=obj.text,e.appendChild(n);const o=document.createElement("A");o.classList.add("new-link"),o.href=`https://${t}`,o.setAttribute("target","_blank"),o.textContent=`https://${t}`,e.appendChild(o);const i=document.createElement("BUTTON");i.textContent="Copy",i.classList.add("copy-button"),e.appendChild(i),i.addEventListener("click",(()=>{copyToClipboard(o,i)}))}function copyToClipboard(t,e){navigator.clipboard.writeText(t.href),e.textContent="Copied!",e.classList.add("copied"),setTimeout((()=>{e.textContent="Copy",e.classList.remove("copied")}),3e3)}textInput.addEventListener("input",(()=>(obj.text=textInput.value,obj))),InputSubmit.addEventListener("click",(()=>{const{text:t}=obj;textInput.value="",validURL(t)?createUrl():(alertUrl.classList.add("showAlert"),setTimeout((()=>{alertUrl.classList.remove("showAlert")}),2e3))}));